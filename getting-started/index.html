<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8">
    <title>esbuild - Getting Started</title>
    <meta property="og:title" content="esbuild - Getting Started"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://esbuild.github.io/index.png"/>
    <meta property="twitter:card" content="summary_large_image"/>
    <meta property="twitter:title" content="esbuild - Getting Started"/>
    <meta property="twitter:image" content="https://esbuild.github.io/index.png"/>
    <link rel="stylesheet" href="/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <script>
      try {
        document.body.dataset.mode3 = localStorage.getItem('mode3') || 'cli'
        document.body.dataset.mode2 = localStorage.getItem('mode2') || 'js'
        document.body.dataset.theme = localStorage.getItem('theme')
      } catch (e) {
        document.body.dataset.mode3 = 'cli'
        document.body.dataset.mode2 = 'js'
        document.body.dataset.theme = null
      }
      document.body.classList.add('has-js')
    </script>
    <script src="/script.js" defer></script>
    <div id="menubar">
      <a id="menutoggle" href="javascript:void 0">
        <svg width="50" height="50" xmlns="http://www.w3.org/2000/svg">
          <rect x="15" y="18" width="20" height="2" stroke-width="0"/>
          <rect x="15" y="24" width="20" height="2" stroke-width="0"/>
          <rect x="15" y="30" width="20" height="2" stroke-width="0"/>
        </svg>
      </a>
    </div>
    <nav>
      <div id="shadow"></div>
      <div id="menu">
        <a href="/" class="logo">esbuild</a>
        <ul>
          <li><a href="/getting-started/">Getting Started</a></li>
          <ul class="h2">
            <li id="nav-install-esbuild"><a href="#install-esbuild">Install esbuild</a></li>
            <li id="nav-your-first-bundle"><a href="#your-first-bundle">Your first bundle</a></li>
            <li id="nav-build-scripts"><a href="#build-scripts">Build scripts</a></li>
            <li id="nav-bundling-for-the-browser"><a href="#bundling-for-the-browser">Bundling for the browser</a></li>
            <li id="nav-bundling-for-node"><a href="#bundling-for-node">Bundling for node</a></li>
          </ul>
          <li><a href="/api/">API</a></li>
          <ul class="h2">
            <li><a href="/api/#transform-api">Transform API</a></li>
            <li><a href="/api/#build-api">Build API</a></li>
            <li><a href="/api/#simple-options">Simple options</a></li>
            <li><a href="/api/#advanced-options">Advanced options</a></li>
            <li><a href="/api/#js-specific-details">JS-specific details</a></li>
          </ul>
          <li><a href="/content-types/">Content Types</a></li>
          <ul class="h2">
            <li><a href="/content-types/#javascript">JavaScript</a></li>
            <li><a href="/content-types/#typescript">TypeScript</a></li>
            <li><a href="/content-types/#jsx">JSX</a></li>
            <li><a href="/content-types/#json">JSON</a></li>
            <li><a href="/content-types/#css">CSS</a></li>
            <li><a href="/content-types/#text">Text</a></li>
            <li><a href="/content-types/#binary">Binary</a></li>
            <li><a href="/content-types/#base64">Base64</a></li>
            <li><a href="/content-types/#data-url">Data URL</a></li>
            <li><a href="/content-types/#external-file">External file</a></li>
          </ul>
          <li><a href="/faq/">FAQ</a></li>
        </ul>
        <div id="icons">
          <a href="https://github.com/evanw/esbuild">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25">
            <path fill-rule="evenodd" stroke-width="0" d="M13 5a8 8 0 00-2.53 15.59c.4.07.55-.17.55
              -.38l-.01-1.49c-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52
              -.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78
              -.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2
              .82a7.42 7.42 0 014 0c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27
              .82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48l-.01 2.2c0 .21.15.46.55.38A
              8.01 8.01 0 0021 13a8 8 0 00-8-8z"/>
          </svg>
          </a><a href="javascript:void 0" id="theme">
            <svg id="theme-light" width="25" height="25" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.5 4v3m9.5 6.5h-3M13.5 23v-3M7 13.5H4M9 9L7 7m13 0l-2 2m2 11l-2-2M7 20l2-2"/>
              <circle cx="13.5" cy="13.5" r="4.5" stroke-width="0"/>
            </svg>
            <svg id="theme-dark" width="25" height="25" xmlns="http://www.w3.org/2000/svg">
              <path d="M10.1 6.6a8.08 8.08 0 00.24 11.06 8.08 8.08 0 0011.06.24c-6.46.9-12.2-4.84-11.3-11.3z" stroke-width="0"/>
            </svg>
          </a>
        </div>
      </div>
    </nav>

    <main>
      <h1>Getting Started</h1>
      <h2 id="install-esbuild">
        <a aria-hidden="true" href="#install-esbuild">#</a>
        Install esbuild
      </h2>
      <p>First, download and install the esbuild command locally. A prebuilt binary can be installed using npm:</p>
      <pre>npm install esbuild</pre>
      <p>This should have installed esbuild in your local <code>node_modules</code> folder. You can run the esbuild binary to verify that everything is working correctly:</p>
      <pre>./node_modules/.bin/esbuild --version</pre>
      <h2 id="your-first-bundle">
        <a aria-hidden="true" href="#your-first-bundle">#</a>
        Your first bundle
      </h2>
      <p>This is a quick real-world example of what esbuild is capable of and how to use it. First, install the <code>react</code> and <code>react-dom</code> packages:</p>
      <pre>npm install react react-dom</pre>
      <p>Then create a file called <code>app.jsx</code> containing the following code:</p>
      <pre><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> Server <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/server&#x27;</span>

<span class="hljs-keyword">let</span> Greet = <span class="hljs-function">() =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, world!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
<span class="hljs-built_in">console</span>.log(Server.renderToString(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Greet</span> /&gt;</span></span>))</pre>
      <p>Finally, tell esbuild to bundle the file:</p>
      <pre>./node_modules/.bin/esbuild app.jsx --bundle --outfile=out.js</pre>
      <p>This should have created a file called <code>out.js</code> containing your code and the React library bundled together. The code is completely self-contained and no longer depends on your <code>node_modules</code> directory. If you run the code using <code>node out.js</code>, you should see something like this:</p>
      <pre><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">data-reactroot</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Hello, world!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></pre>
      <p>Notice that esbuild also converted JSX syntax to JavaScript without any configuration other than the <code>.jsx</code> extension. While esbuild can be configured, it attempts to have reasonable defaults so that many common situations work automatically. If you would like to use JSX syntax in <code>.js</code> files instead, you can tell esbuild to allow this using the <code>--loader:.js=jsx</code> flag. You can read more about the available configuration options in the <a href="/api/">API documentation</a>.</p>
      <h2 id="build-scripts">
        <a aria-hidden="true" href="#build-scripts">#</a>
        Build scripts
      </h2>
      <p>Your build command is something you will be running repeatedly, so you will want to automate it. A natural way of doing this is to add a build script to your <code>package.json</code> file like this:</p>
      <pre>{
  <span class="hljs-attr">&quot;scripts&quot;</span>: {
    <span class="hljs-attr">&quot;build&quot;</span>: <span class="hljs-string">&quot;esbuild app.jsx --bundle --outfile=out.js&quot;</span>
  }
}</pre>
      <p>The build script can be invoked like this:</p>
      <pre>npm run build</pre>
      <p>However, using the command-line interface can become unwieldy if you need to pass many options to esbuild. For more sophisticated uses you will likely want to write a build script in JavaScript using esbuild's JavaScript API. That might look something like this:</p>
      <pre><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;esbuild&#x27;</span>).build({
  <span class="hljs-attr">entryPoints</span>: [<span class="hljs-string">&#x27;app.jsx&#x27;</span>],
  <span class="hljs-attr">bundle</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">outfile</span>: <span class="hljs-string">&#x27;out.js&#x27;</span>,
}).catch(<span class="hljs-function">() =&gt;</span> process.exit(<span class="hljs-number">1</span>))</pre>
      <p>The <code>build</code> function runs the esbuild binary in a child process and returns a promise that resolves when the build is complete. The code above doesn't print out the captured exception because any error messages in the exception will also be printed to the console by default (although you can change the <a href="/api/#log-level">log level</a> to turn that off if you'd like).</p>
      <h2 id="bundling-for-the-browser">
        <a aria-hidden="true" href="#bundling-for-the-browser">#</a>
        Bundling for the browser
      </h2>
      <p>The bundler outputs code for the browser by default, so no additional configuration is necessary to get started. For development builds you probably want to enable source maps with <code>--sourcemap</code>, and for production builds you probably want to enable minification with <code>--minify</code>. You probably also want to configure the target environment for the browsers you support. All of that might looks something like this:</p>
      <div class="switcher">
        <a href="javascript:void 0" class="cli3">CLI</a>
        <a href="javascript:void 0" class="js3">JS</a>
        <a href="javascript:void 0" class="go3">Go</a>
      </div>
      <pre class="switchable cli3">esbuild app.jsx --bundle --minify --sourcemap --target=chrome58,firefox57,safari11,edge16</pre>
      <pre class="switchable js3"><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;esbuild&#x27;</span>).buildSync({
  <span class="hljs-attr">entryPoints</span>: [<span class="hljs-string">&#x27;app.jsx&#x27;</span>],
  <span class="hljs-attr">bundle</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">minify</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">target</span>: [<span class="hljs-string">&#x27;chrome58&#x27;</span>, <span class="hljs-string">&#x27;firefox57&#x27;</span>, <span class="hljs-string">&#x27;safari11&#x27;</span>, <span class="hljs-string">&#x27;edge16&#x27;</span>],
  <span class="hljs-attr">outfile</span>: <span class="hljs-string">&#x27;out.js&#x27;</span>,
})</pre>
      <pre class="switchable go3"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/evanw/esbuild/pkg/api&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;os&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  result := api.Build(api.BuildOptions{
    EntryPoints:       []<span class="hljs-keyword">string</span>{<span class="hljs-string">&quot;app.jsx&quot;</span>},
    Bundle:            <span class="hljs-literal">true</span>,
    MinifyWhitespace:  <span class="hljs-literal">true</span>,
    MinifyIdentifiers: <span class="hljs-literal">true</span>,
    MinifySyntax:      <span class="hljs-literal">true</span>,
    Engines: []api.Engine{
      {api.EngineChrome, <span class="hljs-string">&quot;58&quot;</span>},
      {api.EngineFirefox, <span class="hljs-string">&quot;57&quot;</span>},
      {api.EngineSafari, <span class="hljs-string">&quot;11&quot;</span>},
      {api.EngineEdge, <span class="hljs-string">&quot;16&quot;</span>},
    },
    Write: <span class="hljs-literal">true</span>,
  })

  <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(result.Errors) &gt; <span class="hljs-number">0</span> {
    os.Exit(<span class="hljs-number">1</span>)
  }
}</pre>
      <p>Some npm packages you want to use may not be designed to be run in the browser. Sometimes you can use esbuild's configuration options to work around certain issues and successfully bundle the package anyway. For example, the <code>react</code> library contains code that checks the value of <code>process<wbr>.env<wbr>.NODE_ENV</code>. This will crash in the browser because the variable called <code>process</code> only exists in node, not in the browser. To work around this you can define a custom value for this variable at build time:</p>
      <div class="switcher">
        <a href="javascript:void 0" class="cli3">CLI</a>
        <a href="javascript:void 0" class="js3">JS</a>
        <a href="javascript:void 0" class="go3">Go</a>
      </div>
      <pre class="switchable cli3">esbuild app.jsx --bundle --define:process.env.NODE_ENV=<span class="hljs-string">&#x27;&quot;production&quot;&#x27;</span></pre>
      <pre class="switchable js3"><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;esbuild&#x27;</span>).buildSync({
  <span class="hljs-attr">entryPoints</span>: [<span class="hljs-string">&#x27;app.jsx&#x27;</span>],
  <span class="hljs-attr">bundle</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">outfile</span>: <span class="hljs-string">&#x27;out.js&#x27;</span>,
  <span class="hljs-attr">define</span>: {
    <span class="hljs-string">&#x27;process.env.NODE_ENV&#x27;</span>: <span class="hljs-string">&#x27;&quot;production&quot;&#x27;</span>,
  },
})</pre>
      <pre class="switchable go3"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/evanw/esbuild/pkg/api&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;os&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  result := api.Build(api.BuildOptions{
    EntryPoints: []<span class="hljs-keyword">string</span>{<span class="hljs-string">&quot;app.jsx&quot;</span>},
    Outfile:     <span class="hljs-string">&quot;out.js&quot;</span>,
    Bundle:      <span class="hljs-literal">true</span>,
    Define: <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">string</span>{
      <span class="hljs-string">&quot;process.env.NODE_ENV&quot;</span>: <span class="hljs-string">`&quot;production&quot;`</span>,
    },
    Write: <span class="hljs-literal">true</span>,
  })

  <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(result.Errors) &gt; <span class="hljs-number">0</span> {
    os.Exit(<span class="hljs-number">1</span>)
  }
}</pre>
      <p>Sometimes a package you want to use may import another package that is only available on node, such as the built-in <code>path</code> package. When that happens you can substitute the package for a browser-friendly alternative by using the <a href="https://github.com/defunctzombie/package-browser-field-spec">browser field</a> in your <code>package.json</code> file like this:</p>
      <pre>{
  <span class="hljs-attr">&quot;browser&quot;</span>: {
    <span class="hljs-attr">&quot;path&quot;</span>: <span class="hljs-string">&quot;path-browserify&quot;</span>
  }
}</pre>
      <h2 id="bundling-for-node">
        <a aria-hidden="true" href="#bundling-for-node">#</a>
        Bundling for node
      </h2>
      <p>Even though a bundler is not necessary when using node, sometimes it can still be beneficial to process your code with esbuild before running it in node. Bundling can automatically strip TypeScript types, convert ECMAScript module syntax to CommonJS, and transform newer JavaScript syntax into older syntax for a specific version of node. And it may be beneficial to bundle your package before publishing it so that it's a smaller download and so it spends less time reading from the file system when being loaded.</p>
      <p>If you are bundling code that will be run in node, you should configure the <a href="/api/#platform">platform</a> setting by passing <code>--platform=<wbr>node</code> to esbuild. This simultaneously changes a few different settings to node-friendly default values. For example, all packages that are built-in to node such as <code>fs</code> are automatically marked as external so esbuild doesn't try to bundle them. This setting also disables the interpretation of the browser field in <code>package.json</code>.</p>
      <p>If your code uses newer JavaScript syntax that doesn't work in your version of node, you will want to configure the target version of node:</p>
      <div class="switcher">
        <a href="javascript:void 0" class="cli3">CLI</a>
        <a href="javascript:void 0" class="js3">JS</a>
        <a href="javascript:void 0" class="go3">Go</a>
      </div>
      <pre class="switchable cli3">esbuild app.js --bundle --platform=node --target=node10.4</pre>
      <pre class="switchable js3"><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;esbuild&#x27;</span>).buildSync({
  <span class="hljs-attr">entryPoints</span>: [<span class="hljs-string">&#x27;app.js&#x27;</span>],
  <span class="hljs-attr">bundle</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">platform</span>: <span class="hljs-string">&#x27;node&#x27;</span>,
  <span class="hljs-attr">target</span>: [<span class="hljs-string">&#x27;node10.4&#x27;</span>],
  <span class="hljs-attr">outfile</span>: <span class="hljs-string">&#x27;out.js&#x27;</span>,
})</pre>
      <pre class="switchable go3"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/evanw/esbuild/pkg/api&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;os&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  result := api.Build(api.BuildOptions{
    EntryPoints: []<span class="hljs-keyword">string</span>{<span class="hljs-string">&quot;app.js&quot;</span>},
    Bundle:      <span class="hljs-literal">true</span>,
    Platform:    api.PlatformNode,
    Engines: []api.Engine{
      {api.EngineNode, <span class="hljs-string">&quot;10.4&quot;</span>},
    },
    Write: <span class="hljs-literal">true</span>,
  })

  <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(result.Errors) &gt; <span class="hljs-number">0</span> {
    os.Exit(<span class="hljs-number">1</span>)
  }
}</pre>
      <p>Sometimes the packages you want to use contain code that can't be bundled for some reason. An example of this is a package with native extensions such as <code>fsevents</code>. Or, you may want to exclude a package from the bundle for other reasons. This can be done by marking the package as external:</p>
      <div class="switcher">
        <a href="javascript:void 0" class="cli3">CLI</a>
        <a href="javascript:void 0" class="js3">JS</a>
        <a href="javascript:void 0" class="go3">Go</a>
      </div>
      <pre class="switchable cli3">esbuild app.jsx --bundle --platform=node --external:fsevents</pre>
      <pre class="switchable js3"><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;esbuild&#x27;</span>).buildSync({
  <span class="hljs-attr">entryPoints</span>: [<span class="hljs-string">&#x27;app.jsx&#x27;</span>],
  <span class="hljs-attr">bundle</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">platform</span>: <span class="hljs-string">&#x27;node&#x27;</span>,
  <span class="hljs-attr">external</span>: [<span class="hljs-string">&#x27;fsevents&#x27;</span>],
  <span class="hljs-attr">outfile</span>: <span class="hljs-string">&#x27;out.js&#x27;</span>,
})</pre>
      <pre class="switchable go3"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/evanw/esbuild/pkg/api&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;os&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  result := api.Build(api.BuildOptions{
    EntryPoints: []<span class="hljs-keyword">string</span>{<span class="hljs-string">&quot;app.jsx&quot;</span>},
    Bundle:      <span class="hljs-literal">true</span>,
    Platform:    api.PlatformNode,
    External:    []<span class="hljs-keyword">string</span>{<span class="hljs-string">&quot;fsevents&quot;</span>},
    Write:       <span class="hljs-literal">true</span>,
  })

  <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(result.Errors) &gt; <span class="hljs-number">0</span> {
    os.Exit(<span class="hljs-number">1</span>)
  }
}</pre>
    </main>
  </body>
</html>
