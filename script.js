addEventListener("click",function(n){if(n.target.parentElement&&n.target.parentElement.className==="switcher"){var o=n.target.className;if(/^(cli|js|go)[23]$/.test(o)){for(var c=n.target.offsetTop-document.body.scrollTop,d=o==="cli3"?3:2;d<=3;d++)document.body.dataset["mode"+d]=o.slice(0,-1),localStorage.setItem("mode"+d,o.slice(0,-1));var s=n.target.offsetTop-document.body.scrollTop;document.body.scrollTop+=s-c}}}),addEventListener("DOMContentLoaded",function(){function n(){for(var t,r,a=0;a<l.length;a++){var e=l[a];if(e.getBoundingClientRect().top>10)break;e.dataset.h2?(t=document.getElementById(e.dataset.h2),r=e):(t=e,r=null)}for(var a=0;a<l.length;a++){var e=l[a];document.getElementById("nav-"+e.id).classList.toggle("current",e===t||e===r)}var e=r||t;m=location.pathname+(e?"#"+e.id:""),i===null&&(i=setTimeout(o,300))}function o(){i=null,location.pathname+location.hash!==m&&history.replaceState(null,"",m)}var c=document.getElementById("menutoggle"),d=document.getElementById("shadow"),s=document.getElementById("menu"),u=document.querySelector("nav");c.addEventListener("click",function(){s.scrollTop=0,u.classList.add("open")}),d.addEventListener("click",function(t){u.classList.remove("open")});var m,i=null,l=document.querySelectorAll("h2, h3");addEventListener("scroll",n,{passive:!0}),addEventListener("load",n);function h(){return f.matches?"light":"dark"}function v(t){localStorage.setItem("theme",t),document.body.dataset.theme=t}var f=matchMedia("(prefers-color-scheme: dark)");f.addEventListener("change",function(){document.body.dataset.theme!==h()&&v(null)}),document.getElementById("theme").addEventListener("click",function(){var t=h();v(document.body.dataset.theme===t?null:t)})});
