addEventListener("click",function(a){if(a.target.parentElement&&a.target.parentElement.className==="switcher"){var o=a.target.className;if(/^(cli|js|go)[23]$/.test(o)){for(var c=a.target.offsetTop-document.body.scrollTop,d=o==="cli3"?3:2;d<=3;d++)document.body.dataset["mode"+d]=o.slice(0,-1),localStorage.setItem("mode"+d,o.slice(0,-1));var s=a.target.offsetTop-document.body.scrollTop;document.body.scrollTop+=s-c}}}),addEventListener("DOMContentLoaded",function(){function a(){for(var e,r,n=0;n<l.length;n++){var t=l[n];if(t.getBoundingClientRect().top>10)break;t.dataset.h2?(e=document.getElementById(t.dataset.h2),r=t):(e=t,r=null)}for(var n=0;n<l.length;n++){var t=l[n];document.getElementById("nav-"+t.id).classList.toggle("current",t===e||t===r)}var t=r||e;m=location.pathname+(t?"#"+t.id:""),i===null&&(i=setTimeout(o,300))}function o(){i=null,location.pathname+location.hash!==m&&history.replaceState(null,"",m)}var c=document.getElementById("menutoggle"),d=document.getElementById("shadow"),s=document.getElementById("menu"),h=document.querySelector("nav");c.addEventListener("click",function(){s.scrollTop=0,h.classList.add("open")}),d.addEventListener("click",function(e){h.classList.remove("open")});var m,i=null,l=document.querySelectorAll("h2, h3");addEventListener("scroll",a,{passive:!0}),addEventListener("load",a);function v(){return u.matches?"light":"dark"}function g(e){localStorage.setItem("theme",e),document.body.dataset.theme=e}addEventListener("storage",function(){document.body.dataset.theme=localStorage.getItem("theme")}),document.getElementById("theme").addEventListener("click",function(){var e=v();g(document.body.dataset.theme===e?null:e)});var u=matchMedia("(prefers-color-scheme: dark)");function f(){document.body.dataset.theme!==v()&&g(null)}try{u.addEventListener("change",f)}catch(e){u.addListener(f)}});
